(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{iszN:function(l,n,u){"use strict";u.r(n);var s=u("8Y7J");class i{}var t=u("pMnS"),o=u("rzzT"),e=u("n0sU"),a=u("dZzK"),r=u("xdv0"),b=u("SVse"),c=u("s7LF");class d{static matchPassword(l){if(l.get("password").value==l.get("passwordRepeat").value)return null;l.get("passwordRepeat").setErrors({MatchPassword:!0})}}class p{constructor(l,n){this.formBuilder=l,this.userService=n,this.loading=!1,this.successVisible=!1,this.errorVisible=!1}ngOnInit(){this.errorVisible=!1,this.successVisible=!1,this.form=this.formBuilder.group({currentPassword:["",c.m.required],password:["",c.m.required],passwordRepeat:["",c.m.required]},{validator:d.matchPassword})}save(){this.loading=!0,this.errorVisible=!1,this.successVisible=!1,this.userService.changePassword(this.user,this.form.controls.currentPassword.value,this.form.controls.password.value).subscribe(()=>this.handlePasswordChange(),()=>this.handleError())}handlePasswordChange(){this.errorVisible=!1,this.successVisible=!0,this.form.reset(),this.loading=!1}handleError(){this.loading=!1,this.form.reset(),this.errorVisible=!0,this.successVisible=!1}hideNotification(){this.errorVisible=!1,this.successVisible=!1}}var g=s.nb({encapsulation:0,styles:[[""]],data:{}});function h(l){return s.Kb(0,[(l()(),s.pb(0,0,null,null,2,"div",[["class","notification is-warning"]],null,null,null,null,null)),(l()(),s.pb(1,0,null,null,0,"button",[["class","delete"]],null,[[null,"click"]],function(l,n,u){var s=!0;return"click"===n&&(s=!1!==l.component.hideNotification()&&s),s},null,null)),(l()(),s.Ib(-1,null,[" Beim \xc4ndern des Passworts ist ein Fehler aufgetreten. "]))],null,null)}function m(l){return s.Kb(0,[(l()(),s.pb(0,0,null,null,2,"div",[["class","notification is-success"]],null,null,null,null,null)),(l()(),s.pb(1,0,null,null,0,"button",[["class","delete"]],null,[[null,"click"]],function(l,n,u){var s=!0;return"click"===n&&(s=!1!==l.component.hideNotification()&&s),s},null,null)),(l()(),s.Ib(-1,null,[" Das Passwort wurde erfolgreich ge\xe4ndert. "]))],null,null)}function v(l){return s.Kb(0,[(l()(),s.pb(0,0,null,null,50,"div",[["class","columns is-mobile"]],null,null,null,null,null)),(l()(),s.pb(1,0,null,null,49,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.pb(2,0,null,null,1,"h5",[["class","title is-5"]],null,null,null,null,null)),(l()(),s.Ib(-1,null,["Passwort \xe4ndern"])),(l()(),s.pb(4,0,null,null,46,"div",[["class","content"]],null,null,null,null,null)),(l()(),s.pb(5,0,null,null,41,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var i=!0;return"submit"===n&&(i=!1!==s.Ab(l,7).onSubmit(u)&&i),"reset"===n&&(i=!1!==s.Ab(l,7).onReset()&&i),i},null,null)),s.ob(6,16384,null,0,c.q,[],null,null),s.ob(7,540672,null,0,c.g,[[8,null],[8,null]],{form:[0,"form"]},null),s.Fb(2048,null,c.b,null,[c.g]),s.ob(9,16384,null,0,c.k,[[4,c.b]],null,null),(l()(),s.pb(10,0,null,null,9,"div",[["class","field"]],null,null,null,null,null)),(l()(),s.pb(11,0,null,null,8,"p",[["class","control has-icons-left"]],null,null,null,null,null)),(l()(),s.pb(12,0,null,null,5,"input",[["class","input"],["formControlName","currentPassword"],["id","current-password"],["placeholder","Aktuelles Passwort"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var i=!0;return"input"===n&&(i=!1!==s.Ab(l,13)._handleInput(u.target.value)&&i),"blur"===n&&(i=!1!==s.Ab(l,13).onTouched()&&i),"compositionstart"===n&&(i=!1!==s.Ab(l,13)._compositionStart()&&i),"compositionend"===n&&(i=!1!==s.Ab(l,13)._compositionEnd(u.target.value)&&i),i},null,null)),s.ob(13,16384,null,0,c.c,[s.B,s.k,[2,c.a]],null,null),s.Fb(1024,null,c.h,function(l){return[l]},[c.c]),s.ob(15,671744,null,0,c.f,[[3,c.b],[8,null],[8,null],[6,c.h],[2,c.p]],{name:[0,"name"]},null),s.Fb(2048,null,c.i,null,[c.f]),s.ob(17,16384,null,0,c.j,[[4,c.i]],null,null),(l()(),s.pb(18,0,null,null,1,"span",[["class","icon is-small is-left"]],null,null,null,null,null)),(l()(),s.pb(19,0,null,null,0,"i",[["class","fas fa-lock"]],null,null,null,null,null)),(l()(),s.pb(20,0,null,null,9,"div",[["class","field"]],null,null,null,null,null)),(l()(),s.pb(21,0,null,null,8,"p",[["class","control has-icons-left"]],null,null,null,null,null)),(l()(),s.pb(22,0,null,null,5,"input",[["class","input"],["formControlName","password"],["id","new-password"],["placeholder","Neues Passwort"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var i=!0;return"input"===n&&(i=!1!==s.Ab(l,23)._handleInput(u.target.value)&&i),"blur"===n&&(i=!1!==s.Ab(l,23).onTouched()&&i),"compositionstart"===n&&(i=!1!==s.Ab(l,23)._compositionStart()&&i),"compositionend"===n&&(i=!1!==s.Ab(l,23)._compositionEnd(u.target.value)&&i),i},null,null)),s.ob(23,16384,null,0,c.c,[s.B,s.k,[2,c.a]],null,null),s.Fb(1024,null,c.h,function(l){return[l]},[c.c]),s.ob(25,671744,null,0,c.f,[[3,c.b],[8,null],[8,null],[6,c.h],[2,c.p]],{name:[0,"name"]},null),s.Fb(2048,null,c.i,null,[c.f]),s.ob(27,16384,null,0,c.j,[[4,c.i]],null,null),(l()(),s.pb(28,0,null,null,1,"span",[["class","icon is-small is-left"]],null,null,null,null,null)),(l()(),s.pb(29,0,null,null,0,"i",[["class","fas fa-lock"]],null,null,null,null,null)),(l()(),s.pb(30,0,null,null,9,"div",[["class","field"]],null,null,null,null,null)),(l()(),s.pb(31,0,null,null,8,"p",[["class","control has-icons-left"]],null,null,null,null,null)),(l()(),s.pb(32,0,null,null,5,"input",[["class","input"],["formControlName","passwordRepeat"],["id","new-password-repeat"],["placeholder","Neues Passwort wiederholen"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var i=!0;return"input"===n&&(i=!1!==s.Ab(l,33)._handleInput(u.target.value)&&i),"blur"===n&&(i=!1!==s.Ab(l,33).onTouched()&&i),"compositionstart"===n&&(i=!1!==s.Ab(l,33)._compositionStart()&&i),"compositionend"===n&&(i=!1!==s.Ab(l,33)._compositionEnd(u.target.value)&&i),i},null,null)),s.ob(33,16384,null,0,c.c,[s.B,s.k,[2,c.a]],null,null),s.Fb(1024,null,c.h,function(l){return[l]},[c.c]),s.ob(35,671744,null,0,c.f,[[3,c.b],[8,null],[8,null],[6,c.h],[2,c.p]],{name:[0,"name"]},null),s.Fb(2048,null,c.i,null,[c.f]),s.ob(37,16384,null,0,c.j,[[4,c.i]],null,null),(l()(),s.pb(38,0,null,null,1,"span",[["class","icon is-small is-left"]],null,null,null,null,null)),(l()(),s.pb(39,0,null,null,0,"i",[["class","fas fa-lock"]],null,null,null,null,null)),(l()(),s.pb(40,0,null,null,6,"div",[["class","field is-grouped"]],null,null,null,null,null)),(l()(),s.pb(41,0,null,null,5,"div",[["class","control"]],null,null,null,null,null)),(l()(),s.pb(42,0,null,null,4,"button",[["class","button is-link"],["id","change-password-button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var s=!0;return"click"===n&&(s=!1!==l.component.save()&&s),s},null,null)),s.Fb(512,null,b.q,b.r,[s.q,s.r,s.k,s.B]),s.ob(44,278528,null,0,b.h,[b.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Db(45,{"is-loading":0}),(l()(),s.Ib(-1,null,[" Speichern "])),(l()(),s.eb(16777216,null,null,1,null,h)),s.ob(48,16384,null,0,b.j,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(l()(),s.eb(16777216,null,null,1,null,m)),s.ob(50,16384,null,0,b.j,[s.M,s.J],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,7,0,u.form),l(n,15,0,"currentPassword"),l(n,25,0,"password"),l(n,35,0,"passwordRepeat");var s=l(n,45,0,u.loading);l(n,44,0,"button is-link",s),l(n,48,0,u.errorVisible),l(n,50,0,u.successVisible)},function(l,n){var u=n.component;l(n,5,0,s.Ab(n,9).ngClassUntouched,s.Ab(n,9).ngClassTouched,s.Ab(n,9).ngClassPristine,s.Ab(n,9).ngClassDirty,s.Ab(n,9).ngClassValid,s.Ab(n,9).ngClassInvalid,s.Ab(n,9).ngClassPending),l(n,12,0,s.Ab(n,17).ngClassUntouched,s.Ab(n,17).ngClassTouched,s.Ab(n,17).ngClassPristine,s.Ab(n,17).ngClassDirty,s.Ab(n,17).ngClassValid,s.Ab(n,17).ngClassInvalid,s.Ab(n,17).ngClassPending),l(n,22,0,s.Ab(n,27).ngClassUntouched,s.Ab(n,27).ngClassTouched,s.Ab(n,27).ngClassPristine,s.Ab(n,27).ngClassDirty,s.Ab(n,27).ngClassValid,s.Ab(n,27).ngClassInvalid,s.Ab(n,27).ngClassPending),l(n,32,0,s.Ab(n,37).ngClassUntouched,s.Ab(n,37).ngClassTouched,s.Ab(n,37).ngClassPristine,s.Ab(n,37).ngClassDirty,s.Ab(n,37).ngClassValid,s.Ab(n,37).ngClassInvalid,s.Ab(n,37).ngClassPending),l(n,42,0,!u.form.valid)})}var f=u("wjSy");class A{constructor(l,n,u,s){this.userService=l,this.householdService=n,this.invitationService=u,this.formBuilder=s,this.subscriptions=[],this.loading=!1,this.errorVisible=!1}ngOnInit(){this.observeUser(),this.observeHousehold(),this.createForm()}ngOnDestroy(){this.subscriptions.forEach(l=>l.unsubscribe())}observeUser(){this.subscriptions.push(this.userService.observeUser().subscribe(l=>this.user=l))}observeHousehold(){this.subscriptions.push(this.householdService.observeHousehold().subscribe(l=>{this.household=l}))}createForm(){this.invitationForm=this.formBuilder.group({email:["",[c.m.required,c.m.email]]})}trimEmail(){const l=this.invitationForm.controls.email.value;l&&this.invitationForm.controls.email.setValue(l.trim())}sendInvitation(){this.loading=!0,this.invitationService.sendInvitation(this.invitationForm.controls.email.value).subscribe(this.handleSuccessfulInvitation.bind(this),this.handleUnsuccessfulInvitation.bind(this))}handleSuccessfulInvitation(){this.loading=!1,this.invitationForm.controls.email.setValue("")}handleUnsuccessfulInvitation(l){404===l.status&&(this.errorVisible=!0),this.loading=!1}isLoading(){return this.loading}isErrorVisible(){return this.errorVisible}hideError(){this.errorVisible=!1}}var C=s.nb({encapsulation:0,styles:[[""]],data:{}});function w(l){return s.Kb(0,[(l()(),s.pb(0,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),s.pb(1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),s.Ib(2,null,["",""]))],null,function(l,n){l(n,2,0,n.context.$implicit.email)})}function k(l){return s.Kb(0,[(l()(),s.pb(0,0,null,null,2,"div",[["class","notification is-warning"]],null,null,null,null,null)),(l()(),s.pb(1,0,null,null,0,"button",[["class","delete"]],null,[[null,"click"]],function(l,n,u){var s=!0;return"click"===n&&(s=!1!==l.component.hideError()&&s),s},null,null)),(l()(),s.Ib(-1,null,[" Es gibt keinen Benuzter mit dieser E-Mail Adresse. "]))],null,null)}function I(l){return s.Kb(0,[(l()(),s.pb(0,0,null,null,1,"app-invitation",[],null,null,null,o.b,o.a)),s.ob(1,245760,null,0,e.a,[a.a,r.a],{invitation:[0,"invitation"]},null)],function(l,n){l(n,1,0,n.context.$implicit)},null)}function z(l){return s.Kb(0,[(l()(),s.pb(0,0,null,null,8,"div",[["class","columns is-mobile"]],null,null,null,null,null)),(l()(),s.pb(1,0,null,null,7,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.pb(2,0,null,null,1,"h5",[["class","title is-5"]],null,null,null,null,null)),(l()(),s.Ib(-1,null,["Offene Einladungen"])),(l()(),s.pb(4,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(l()(),s.pb(5,0,null,null,1,"div",[["class","notification is-warning"]],null,null,null,null,null)),(l()(),s.Ib(-1,null,[" Du kannst aktuell nur in einem Haushalt sein. Wenn du eine Einladung annimmst, wirst du aus deinem aktuellen Haushalt entfernt. "])),(l()(),s.eb(16777216,null,null,1,null,I)),s.ob(8,278528,null,0,b.i,[s.M,s.J,s.q],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,8,0,n.component.user.invitations)},null)}function F(l){return s.Kb(0,[(l()(),s.pb(0,0,null,null,4,"div",[["class","columns is-mobile"]],null,null,null,null,null)),(l()(),s.pb(1,0,null,null,3,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.pb(2,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),s.eb(16777216,null,null,1,null,w)),s.ob(4,278528,null,0,b.i,[s.M,s.J,s.q],{ngForOf:[0,"ngForOf"]},null),(l()(),s.pb(5,0,null,null,22,"div",[["class","columns is-mobile"]],null,null,null,null,null)),(l()(),s.pb(6,0,null,null,21,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.pb(7,0,null,null,20,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var i=!0;return"submit"===n&&(i=!1!==s.Ab(l,9).onSubmit(u)&&i),"reset"===n&&(i=!1!==s.Ab(l,9).onReset()&&i),i},null,null)),s.ob(8,16384,null,0,c.q,[],null,null),s.ob(9,540672,null,0,c.g,[[8,null],[8,null]],{form:[0,"form"]},null),s.Fb(2048,null,c.b,null,[c.g]),s.ob(11,16384,null,0,c.k,[[4,c.b]],null,null),(l()(),s.pb(12,0,null,null,13,"div",[["class","field is-grouped"]],null,null,null,null,null)),(l()(),s.pb(13,0,null,null,6,"div",[["class","control"]],null,null,null,null,null)),(l()(),s.pb(14,0,null,null,5,"input",[["class","input"],["formControlName","email"],["id","invitation-input"],["placeholder","E-Mail"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var i=!0,t=l.component;return"input"===n&&(i=!1!==s.Ab(l,15)._handleInput(u.target.value)&&i),"blur"===n&&(i=!1!==s.Ab(l,15).onTouched()&&i),"compositionstart"===n&&(i=!1!==s.Ab(l,15)._compositionStart()&&i),"compositionend"===n&&(i=!1!==s.Ab(l,15)._compositionEnd(u.target.value)&&i),"keyup"===n&&(i=!1!==t.trimEmail()&&i),i},null,null)),s.ob(15,16384,null,0,c.c,[s.B,s.k,[2,c.a]],null,null),s.Fb(1024,null,c.h,function(l){return[l]},[c.c]),s.ob(17,671744,null,0,c.f,[[3,c.b],[8,null],[8,null],[6,c.h],[2,c.p]],{name:[0,"name"]},null),s.Fb(2048,null,c.i,null,[c.f]),s.ob(19,16384,null,0,c.j,[[4,c.i]],null,null),(l()(),s.pb(20,0,null,null,5,"div",[["class","control"]],null,null,null,null,null)),(l()(),s.pb(21,0,null,null,4,"button",[["class","button is-link"],["id","invitation-button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var s=!0;return"click"===n&&(s=!1!==l.component.sendInvitation()&&s),s},null,null)),s.Fb(512,null,b.q,b.r,[s.q,s.r,s.k,s.B]),s.ob(23,278528,null,0,b.h,[b.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Db(24,{"is-loading":0}),(l()(),s.Ib(-1,null,["Einladen"])),(l()(),s.eb(16777216,null,null,1,null,k)),s.ob(27,16384,null,0,b.j,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(l()(),s.eb(16777216,null,null,1,null,z)),s.ob(29,16384,null,0,b.j,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(l()(),s.pb(30,0,null,null,1,"app-change-password",[],null,null,null,v,g)),s.ob(31,114688,null,0,p,[c.d,r.a],{user:[0,"user"]},null)],function(l,n){var u=n.component;l(n,4,0,u.household.participants),l(n,9,0,u.invitationForm),l(n,17,0,"email");var s=l(n,24,0,u.isLoading());l(n,23,0,"button is-link",s),l(n,27,0,u.isErrorVisible()),l(n,29,0,u.user.invitations.length>0),l(n,31,0,u.user)},function(l,n){var u=n.component;l(n,7,0,s.Ab(n,11).ngClassUntouched,s.Ab(n,11).ngClassTouched,s.Ab(n,11).ngClassPristine,s.Ab(n,11).ngClassDirty,s.Ab(n,11).ngClassValid,s.Ab(n,11).ngClassInvalid,s.Ab(n,11).ngClassPending),l(n,14,0,s.Ab(n,19).ngClassUntouched,s.Ab(n,19).ngClassTouched,s.Ab(n,19).ngClassPristine,s.Ab(n,19).ngClassDirty,s.Ab(n,19).ngClassValid,s.Ab(n,19).ngClassInvalid,s.Ab(n,19).ngClassPending),l(n,21,0,!u.invitationForm.valid)})}function V(l){return s.Kb(0,[(l()(),s.pb(0,0,null,null,1,"app-cover-page",[],null,null,null,F,C)),s.ob(1,245760,null,0,A,[r.a,f.a,a.a,c.d],null,null)],function(l,n){l(n,1,0)},null)}var P=s.lb("app-cover-page",A,V,{},{},[]),y=u("IheW"),E=u("Ukb2"),S=u("iInd");class j{}u.d(n,"CoverModuleNgFactory",function(){return q});var q=s.mb(i,[],function(l){return s.yb([s.zb(512,s.j,s.X,[[8,[t.a,P]],[3,s.j],s.v]),s.zb(4608,b.l,b.k,[s.s,[2,b.t]]),s.zb(4608,c.d,c.d,[]),s.zb(4608,c.o,c.o,[]),s.zb(4608,y.i,y.o,[b.c,s.z,y.m]),s.zb(4608,y.p,y.p,[y.i,y.n]),s.zb(5120,y.a,function(l){return[l]},[y.p]),s.zb(4608,y.l,y.l,[]),s.zb(6144,y.j,null,[y.l]),s.zb(4608,y.h,y.h,[y.j]),s.zb(6144,y.b,null,[y.h]),s.zb(4608,y.g,y.k,[y.b,s.p]),s.zb(4608,y.c,y.c,[y.g]),s.zb(1073742336,b.b,b.b,[]),s.zb(1073742336,c.n,c.n,[]),s.zb(1073742336,c.l,c.l,[]),s.zb(1073742336,y.e,y.e,[]),s.zb(1073742336,y.d,y.d,[]),s.zb(1073742336,E.a,E.a,[]),s.zb(1073742336,S.o,S.o,[[2,S.t],[2,S.l]]),s.zb(1073742336,j,j,[]),s.zb(1073742336,i,i,[]),s.zb(256,y.m,"XSRF-TOKEN",[]),s.zb(256,y.n,"X-XSRF-TOKEN",[]),s.zb(1024,S.j,function(){return[[{path:"",component:A}]]},[])])})}}]);